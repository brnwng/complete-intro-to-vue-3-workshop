<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <p v-if="players.length === 0">There are no players</p>
      <div v-else>
        <h1>{{ teamName }}</h1>
        <ul>
          <li v-for="player in players">
            {{ player.name }} - {{ player.position }}
            <button @click="favorite(player.name)"> &#128525; Favorite</button>
          </li>
        </ul>
      </div>

      <div>
        <h1>Favorites</h1>
        <p v-if="favoriteList.length === 0">None selected yet</p>
        <ul>
          <li v-for="name in favoriteList">{{ name }}</li>
        </ul>
      </div>

      <div>
        <h1>Add a player</h1>
        <label for="player-name">Name</label>
        <input type="text" v-model="newPlayer.name" @keyup.enter="addPlayer" />
        <br>
        <label for="player-position">Position</label>
        <input type="text" v-model="newPlayer.position" />
        <br>
      </div>
      <div>
        <h1>Stats</h1>
        <ul>
          <li>Forward: {{ forwardCount }} / {{ players.length }}</li>
          <li>Guard: {{ guardCount }} / {{ players.length }}</li>
          <li>Center: {{ centerCount }} / {{ players.length }}</li>
        </ul>
      </div>

    </div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
      const { createApp } = Vue
      const app = createApp({
        data() {
          return {
            favoriteList: [],
            teamName: 'Lakers',
            newPlayer: {
              name: '',
              position: '',
            },
            players: [
              {
                name: 'Lebron James',
                position: 'Forward'
              },
              {
                name: 'Anthony Davis',
                position: 'Center',
              },
              {
                name: 'Austin Reaves',
                position: 'Guard',
              },
              {
                name: 'Rui Hachimura',
                position: 'Forward'
              },
              {
                name: 'Dangelo Russell',
                position: 'Guard'
              }
            ]
          }
        },
        computed: {
          forwardCount() {
            return this.players.filter(player => player.position === 'Forward').length
          },
          guardCount() {
            return this.players.filter(player => player.position === 'Guard').length
          },
          centerCount() {
            return this.players.filter(player => player.position === 'Center').length
          },
        },
        methods: {
          favorite(name) {
            const idx = this.favoriteList.indexOf(name);
            if (idx > -1) {
              this.favoriteList.splice(idx, 1);
              return;
            }
            this.favoriteList.push(name);
          },
          addPlayer() {
            this.players.push({
              name: this.newPlayer.name,
              position: this.newPlayer.position,
            })
            this.newPlayer = {
              name: '',
              position: '',
            }
          }
        }
      })
      app.mount('#app')
    </script>
  </body>
</html>
